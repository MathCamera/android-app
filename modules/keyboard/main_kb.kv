

<MAIN_KB@GridLayout>:
    cols:5
    canvas:
        Color:
            rgba: .20,.20,.20, .25
        Rectangle:
            pos: self.pos
            size: self.size
            
    size_hint_y: 1
    padding: dp(1.5)
    spacing: dp(1.5)

    MultiModeFlatButton:
        modes: ['<','>',">=","<="]
        values: ['<','>',">=","<="]
        on_short_press: app.edit_textfield(self.value)

    MultiModeFlatButton:
        modes: ['G','E']
        values: ['G','E']
        on_short_press: app.edit_textfield(self.value)

    KeyboardFlatButton:
        text: 'π'
        on_press: app.edit_textfield(self.text)

    CustomFlatIconButton:
        icon: 'square-root'
        on_press: app.edit_textfield("√()",1)

    KeyboardFlatButton:
        text: 'x!'
        on_press: app.edit_textfield("!")

    MultiModeFlatButton:
        modes: ['( )','[ ]','{ }']
        values: ['()','[]','{}']
        on_short_press: app.edit_textfield(self.value,1)

    KeyboardFlatButton:
        text: '7'
        on_press: app.edit_textfield(self.text)

    KeyboardFlatButton:
        text: '8'
        on_press: app.edit_textfield(self.text)

    KeyboardFlatButton:
        text: '9'
        on_press: app.edit_textfield(self.text)

    KeyboardFlatButton:
        text: '÷'
        on_press: app.edit_textfield("/")

    MultiModeFlatButton:
        modes: ['x','y','z']
        values: ['x','y','z']
        on_short_press: app.edit_textfield(self.value)

    KeyboardFlatButton:
        text: '4'
        on_press: app.edit_textfield(self.text)

    KeyboardFlatButton:
        text: '5'
        on_press: app.edit_textfield(self.text)

    KeyboardFlatButton:
        text: '6'
        on_press: app.edit_textfield(self.text)

    CustomFlatIconButton:
        icon: 'close'
        on_press: app.edit_textfield("*")

    #MultiModeFlatButton:
    #    modes: ['<','>',">="]
    #    on_short_press: app.edit_textfield(self.text)

    MultiModeFlatButton:
        modes: ['x²','x-¹']
        values: ['^(2)','^(-1)']
        on_short_press: app.edit_textfield(self.value)

    #CustomFlatIconButton:
    #    icon:"x²"
    #    on_press: app.edit_textfield("^()",1)

    KeyboardFlatButton:
        text: '1'
        on_press: app.edit_textfield(self.text)

    KeyboardFlatButton:
        text: '2'
        on_press: app.edit_textfield(self.text)

    KeyboardFlatButton:
        text: '3'
        on_press: app.edit_textfield(self.text)

    KeyboardFlatButton:
        text: '-'
        on_press: app.edit_textfield(self.text)

    MultiModeFlatButton:
        modes: ['sin','cos','tan','cot']
        values: ['sin()','cos()','tan()','cot()']
        on_short_press: app.edit_textfield(self.value,1)

    KeyboardFlatButton:
        text: '.'
        on_press: app.edit_textfield(self.text)

    KeyboardFlatButton:
        text: '0'
        on_press: app.edit_textfield(self.text)

    CustomFlatIconButton:
        icon: 'equal'
        on_press: app.edit_textfield("=")

    KeyboardFlatButton:
        text: '+'
        on_press: app.edit_textfield(self.text)